<!DOCTYPE html>
<html lang="en"> 
<head>
    <title>Ames</title>
    
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="description" content="Portal - Bootstrap 5 Admin Dashboard Template For Developers">
    <meta name="author" content="Xiaoying Riley at 3rd Wave Media">    
    <link rel="shortcut icon" href="favicon.ico"> 
    
  
	
    <!-- FontAwesome JS-->
    <script defer src="assets/plugins/fontawesome/js/all.min.js"></script>
    
    <!-- App CSS -->  
    <link id="theme-style" rel="stylesheet" href="assets/css/portal.css">

</head> 

<body class="app" onload="get_all_acc()">   	
    <header class="app-header fixed-top">	   	            
        <div class="app-header-inner">  
	        <div class="container-fluid py-2">
		        <div class="app-header-content"> 
		            <div class="row justify-content-between align-items-center">
			        
				    <div class="col-auto">
					    <a id="sidepanel-toggler" class="sidepanel-toggler d-inline-block d-xl-none" href="#">
						    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg>
					    </a>
				    </div><!--//col-->
		            <div class="search-mobile-trigger d-sm-none col">
			            <i class="search-mobile-trigger-icon fas fa-search"></i>
			        </div><!--//col-->
		            <div class="app-search-box col">

		            </div><!--//app-search-box-->
		            
		            <div class="app-utilities col-auto">
			            <div class="app-utility-item app-notifications-dropdown dropdown">    

			
		
			            <div class="app-utility-item app-user-dropdown dropdown">
				            <a class="dropdown-toggle" id="user-dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Admin</a>
				            <ul class="dropdown-menu" aria-labelledby="user-dropdown-toggle">

								<li><a class="dropdown-item" href="login.html">Đăng xuất</a></li>
							</ul>
			            </div><!--//app-user-dropdown--> 
		            </div><!--//app-utilities-->
		        </div><!--//row-->


	            </div><!--//app-header-content-->
	        </div><!--//container-fluid-->
        </div><!--//app-header-inner-->
 
         <div id="app-sidepanel" class="app-sidepanel"> 
	        <div id="sidepanel-drop" class="sidepanel-drop"></div>
	        <div class="sidepanel-inner d-flex flex-column">
		        <a href="#" id="sidepanel-close" class="sidepanel-close d-xl-none">&times;</a>
		        <div class="app-branding">
		            <a class="app-logo" href="index_admin.html"><img class="logo-icon me-2" src="assets/images/app-logo.svg" alt="logo"><span class="logo-text">AMES</span></a>
	
		        </div><!--//app-branding-->  
		        
			    <nav id="app-nav-main" class="app-nav app-nav-main flex-grow-1">
				    <ul class="app-menu list-unstyled accordion" id="menu-accordion">
					
					
					
					    <li class="nav-item">
					        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
					        <a class="nav-link " href="index_admin.html">
						        <span class="nav-icon">
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
										<path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
										<path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
									</svg>
						         </span>
		                         <span class="nav-link-text">Thông tin tài khoản</span>
					        </a><!--//nav-link-->
					    </li><!--//nav-item-->
						
					    <li class="nav-item">
					        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
					        <a class="nav-link " href="add_user_admin.html">
						        <span class="nav-icon">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-plus-fill" viewBox="0 0 16 16">
  <path d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
  <path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"/>
</svg>
						         </span>
		                         <span class="nav-link-text">Tạo tài khoản người dùng</span>
					        </a><!--//nav-link-->
					    </li><!--//nav-item-->
						
					    <li class="nav-item">
					        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
					        <a class="nav-link active" href="quanly_admin.html">
						        <span class="nav-icon">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen-fill" viewBox="0 0 16 16">
  <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"/>
</svg>
						         </span>
		                         <span class="nav-link-text">Quản lý tài khoản</span>
					        </a><!--//nav-link-->
					    </li><!--//nav-item-->
					 
					  
  
							    
				    </ul><!--//app-menu-->
			    </nav><!--//app-nav-->

		       
	        </div><!--//sidepanel-inner-->
	    </div><!--//app-sidepanel-->
    </header><!--//app-header-->
    
    
    <div class="app-wrapper">
	    
	    <div class="app-content pt-3 p-md-3 p-lg-4">
		    <div class="container-xl">
			    
			    <div class="row g-3 mb-4 align-items-center justify-content-between">
				    <div class="col-auto">
			            <h1 class="app-page-title mb-0">Quản lý tài khoản</h1>
				    </div>
				    <div class="col-auto">
					     <div class="page-utilities">
						    <div class="row g-2 justify-content-start justify-content-md-end align-items-center">
							    <div class="col-auto">

					                
							    </div><!--//col-->


						    </div><!--//row-->
					    </div><!--//table-utilities-->
				    </div><!--//col-auto-->
			    </div><!--//row-->
			   
			    
			    <nav id="orders-table-tab" class="orders-table-tab app-nav-tabs nav shadow-sm flex-column flex-sm-row mb-4">
				    <a class="flex-sm-fill text-sm-center nav-link active" id="orders-all-tab" data-bs-toggle="tab" href="#orders-all" role="tab" aria-controls="orders-all" aria-selected="true">Tất cả</a>
				    <a class="flex-sm-fill text-sm-center nav-link"  id="orders-paid-tab" data-bs-toggle="tab" href="#orders-paid" role="tab" aria-controls="orders-paid" aria-selected="false">Quản lý</a>
				    <a class="flex-sm-fill text-sm-center nav-link" id="orders-pending-tab" data-bs-toggle="tab" href="#orders-pending" role="tab" aria-controls="orders-pending" aria-selected="false">Giảng viên</a>
				    <a class="flex-sm-fill text-sm-center nav-link" id="orders-cancelled-tab" data-bs-toggle="tab" href="#orders-cancelled" role="tab" aria-controls="orders-cancelled" aria-selected="false">Học viên</a>
				</nav>
				
				
				<div class="tab-content" id="orders-table-tab-content">
			        <div class="tab-pane fade show active" id="orders-all" role="tabpanel" aria-labelledby="orders-all-tab">
					    <div class="app-card app-card-orders-table shadow-sm mb-5">
						    <div class="app-card-body">
							    <div class="table-responsive">
							        <table class="table app-table-hover mb-0 text-left">
										<thead>
											<tr>
												<th class="cell text-center">Id</th>
												<th class="cell text-center">Họ tên</th>
												<th class="cell text-center">Số điện thoại</th>
												<th class="cell text-center">Địa chỉ</th>
												<th class="cell text-center">Ngày sinh</th>
												<th class="cell text-center">Loại tài khoản</th>
												<th class="cell"></th>
											</tr>
										</thead>
										<tbody id="data">

		
										</tbody>
									</table>
						        </div><!--//table-responsive-->
						       
						    </div><!--//app-card-body-->		
						</div><!--//app-card-->

						
			        </div><!--//tab-pane-->
			        
			        <div class="tab-pane fade" id="orders-paid" role="tabpanel" aria-labelledby="orders-paid-tab">
					    <div class="app-card app-card-orders-table mb-5">
						    <div class="app-card-body">
							    <div class="table-responsive">
								    
							        <table class="table app-table-hover mb-0 text-left">
										<thead>
											<tr>
												<th class="cell text-center">Id</th>
												<th class="cell text-center">Họ tên</th>
												<th class="cell text-center">Số điện thoại</th>
												<th class="cell text-center">Địa chỉ</th>
												<th class="cell text-center">Ngày sinh</th>
												<th class="cell text-center">Loại tài khoản</th>
												<th class="cell text-center"></th>
											</tr>
										</thead>
										<tbody id="data_1">


		
										</tbody>
									</table>
									
						        </div><!--//table-responsive-->
						    </div><!--//app-card-body-->		
						</div><!--//app-card-->
			        </div><!--//tab-pane-->
			        
			        <div class="tab-pane fade" id="orders-pending" role="tabpanel" aria-labelledby="orders-pending-tab">
					    <div class="app-card app-card-orders-table mb-5">
						    <div class="app-card-body">
							    <div class="table-responsive">

							        <table class="table app-table-hover mb-0 text-left">
										<thead>
											<tr>
												<th class="cell text-center">Id</th>
												<th class="cell text-center">Họ tên</th>
												<th class="cell text-center">Số điện thoại</th>
												<th class="cell text-center">Địa chỉ</th>
												<th class="cell text-center">Ngày sinh</th>
												<th class="cell text-center">Loại tài khoản</th>
												<th class="cell"></th>
											</tr>
										</thead>
										<tbody id="data_2">


	


										</tbody>
									</table>
						        </div><!--//table-responsive-->
						    </div><!--//app-card-body-->		
						</div><!--//app-card-->
			        </div><!--//tab-pane-->
					
					
					<div class="tab-pane fade" id="orders-cancelled" role="tabpanel" aria-labelledby="orders-cancelled-tab">
					    <div class="app-card app-card-orders-table mb-5">
						    <div class="app-card-body">
							    <div class="table-responsive">

							        <table class="table app-table-hover mb-0 text-left">
										<thead>
											<tr>
												<th class="cell text-center">Id</th>
												<th class="cell text-center">Họ tên</th>
												<th class="cell text-center">Số điện thoại</th>
												<th class="cell text-center">Địa chỉ</th>
												<th class="cell text-center">Ngày sinh</th>
												<th class="cell text-center">Loại tài khoản</th>
												<th class="cell text-center"></th>
											</tr>
										</thead>
										<tbody id="data_3">





										</tbody>
									</table>
						        </div><!--//table-responsive-->
						    </div><!--//app-card-body-->		
						</div><!--//app-card-->
			        </div><!--//tab-pane-->
					
					
				</div><!--//tab-content-->
				
				
			    
		    </div><!--//container-fluid-->
	    </div><!--//app-content-->
		
		


		
	    
	    <footer class="app-footer">
		    <div class="container text-center py-3">
		         <!--/* This template is free as long as you keep the footer attribution link. If you'd like to use the template without the attribution link, you can buy the commercial license via our website: themes.3rdwavemedia.com Thank you for your support. :) */-->
            <small class="copyright">Designed with <i class="fas fa-heart" style="color: #fb866a;"></i> by <a class="app-link" href="#" target="_blank">Nguyễn Lê Tài</a> for developers</small>
		       
		    </div>
	    </footer><!--//app-footer-->
	    
    </div><!--//app-wrapper-->    					

 
    <!-- Javascript -->          
    <script src="assets/plugins/popper.min.js"></script>
    <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>  
    
    
    <!-- Page Specific JS -->
    <script>
function get_all_acc(){
    var url = `https://amesbe.herokuapp.com/api/account/thong-ke`
    console.log(url)
    fetch(url,{
        method:"GET",
        headers:{
            'Content-Type': 'application/json',
            'Authorization': 'eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vRW5nbGlzaENlbnRlci5jb20vIiwic3ViIjoiYWRtaW4ifQ.RnuaT2IuMgMlKtowFP8zJDASCRY54XFe7K6fRPNEgKM'
        }
    }).then((reponse)=>{
           if(reponse.ok){
			   reponse.json().then((json)=>{
				console.log(json)
				 
				//const myArray = JSON.parse(json);
				 
				//if(myArray.length >0){
					var cry = "";
					var cry1 = "";
					var cry2 = "";
					var cry3 = "";
					
				//}  
				   
				for(i in json){
					cry += "<tr>"
					cry += `<td class="cell text-center"> ${json[i].TK} </td>`;
					cry += `<td class="cell text-center"> ${json[i].HoTen} </td>`;
					cry += `<td class="cell text-center"> ${json[i].SDT}</td>`;
					cry += `<td class="cell text-center"> ${json[i].DiaChi} </td>`;
					
					
					
					if(json[i].NgaySinh==null){
					cry += `<td class="cell text-center">  </td>`;
					}else{
					var ngaysinh =  new Date(Number(json[i].NgaySinh.seconds+"000"));

					cry += `<td class="cell text-center"> ${ngaysinh.toLocaleDateString()} </td>`;
					
					
					}
					
					if(json[i].Role=="Student")
					cry += `<td class="cell text-center"><span class="badge bg-success">${json[i].Role}</span></td>`;
					if(json[i].Role=="Teacher")
					cry += `<td class="cell text-center"><span class="badge bg-warning">${json[i].Role}</span></td>`;
					if(json[i].Role=="Manager")
					cry += `<td class="cell text-center"><span class="badge bg-danger">${json[i].Role}</span></td>`;
					if(json[i].Role=="Admin")
					cry += `<td class="cell text-center"><span class="badge bg-danger">${json[i].Role}</span></td>`;
					
												
					cry += `<td class="cell"><a href="viewtaikhoan_admin.html?${json[i].TK}" class="btn-sm app-btn-secondary">View</a> 	</td>`;"<tr>";	




					if(json[i].Role=="Manager"){

					cry1 += "<tr>"
					cry1 += `<td class="cell text-center"> ${json[i].TK} </td>`;
					cry1 += `<td class="cell text-center"> ${json[i].HoTen} </td>`;
					cry1 += `<td class="cell text-center"> ${json[i].SDT}</td>`;
					cry1 += `<td class="cell text-center"> ${json[i].DiaChi} </td>`;

					if(json[i].NgaySinh==null){
					cry1 += `<td class="cell text-center">  </td>`;
					}else{
					var ngaysinh =  new Date(Number(json[i].NgaySinh.seconds+"000"));

					cry1 += `<td class="cell text-center"> ${ngaysinh.toLocaleDateString()} </td>`;
					
					
					}


					if(json[i].Role=="Student")
					cry1 += `<td class="cell text-center"><span class="badge bg-success">${json[i].Role}</span></td>`;
					if(json[i].Role=="Teacher")
					cry1 += `<td class="cell text-center"><span class="badge bg-warning">${json[i].Role}</span></td>`;
					if(json[i].Role=="Manager")
					cry1 += `<td class="cell text-center"><span class="badge bg-danger">${json[i].Role}</span></td>`;
					if(json[i].Role=="Admin")
					cry1 += `<td class="cell text-center"><span class="badge bg-danger">${json[i].Role}</span></td>`;
					
												
					cry1 += `<td class="cell"><a href="viewtaikhoan_admin.html?${json[i].TK}" class="btn-sm app-btn-secondary">View</a> 	</td>`;"<tr>";	
					
					
					}
					
					
					
					if(json[i].Role=="Teacher"){

					cry2 += "<tr>"
					cry2 += `<td class="cell text-center"> ${json[i].TK} </td>`;
					cry2 += `<td class="cell text-center"> ${json[i].HoTen} </td>`;
					cry2 += `<td class="cell text-center"> ${json[i].SDT}</td>`;
					cry2 += `<td class="cell text-center"> ${json[i].DiaChi} </td>`;

					if(json[i].NgaySinh==null){
					cry2 += `<td class="cell text-center">  </td>`;
					}else{
					var ngaysinh =  new Date(Number(json[i].NgaySinh.seconds+"000"));

					cry2 += `<td class="cell text-center"> ${ngaysinh.toLocaleDateString()} </td>`;
					
					
					}


					if(json[i].Role=="Student")
					cry2 += `<td class="cell text-center"><span class="badge bg-success">${json[i].Role}</span></td>`;
					if(json[i].Role=="Teacher")
					cry2 += `<td class="cell text-center"><span class="badge bg-warning">${json[i].Role}</span></td>`;
					if(json[i].Role=="Manager")
					cry2 += `<td class="cell text-center"><span class="badge bg-danger">${json[i].Role}</span></td>`;
					if(json[i].Role=="Admin")
					cry2 += `<td class="cell text-center"><span class="badge bg-danger">${json[i].Role}</span></td>`;
					
												
					cry2 += `<td class="cell"><a href="viewtaikhoan_admin.html?${json[i].TK}" class="btn-sm app-btn-secondary">View</a> 	</td>`;"<tr>";	
					
					
					}					

					if(json[i].Role=="Student"){

					cry3 += "<tr>"
					cry3 += `<td class="cell text-center"> ${json[i].TK} </td>`;
					cry3 += `<td class="cell text-center"> ${json[i].HoTen} </td>`;
					cry3 += `<td class="cell text-center"> ${json[i].SDT}</td>`;
					cry3 += `<td class="cell text-center"> ${json[i].DiaChi} </td>`;

					if(json[i].NgaySinh==null){
					cry3 += `<td class="cell text-center">  </td>`;
					}else{
					var ngaysinh =  new Date(Number(json[i].NgaySinh.seconds+"000"));

					cry3 += `<td class="cell text-center"> ${ngaysinh.toLocaleDateString()} </td>`;
					
					
					}

					if(json[i].Role=="Student")
					cry3 += `<td class="cell text-center"><span class="badge bg-success">${json[i].Role}</span></td>`;
					if(json[i].Role=="Teacher")
					cry3 += `<td class="cell text-center"><span class="badge bg-warning">${json[i].Role}</span></td>`;
					if(json[i].Role=="Manager")
					cry3 += `<td class="cell text-center"><span class="badge bg-danger">${json[i].Role}</span></td>`;
					if(json[i].Role=="Admin")
					cry3 += `<td class="cell text-center"><span class="badge bg-danger">${json[i].Role}</span></td>`;
					
												
					cry3 += `<td class="cell"><a href="viewtaikhoan_admin.html?${json[i].TK}" class="btn-sm app-btn-secondary">View</a> 	</td>`;"<tr>";	
					
					
					}					
 			
				}	
				
				 document.getElementById("data").innerHTML=cry
				 document.getElementById("data_1").innerHTML=cry1
				 document.getElementById("data_2").innerHTML=cry2
				 document.getElementById("data_3").innerHTML=cry3
			   })
		   }
		   
		   
    }).catch((error)=>{
     console.log(object)
})
}	
	</script> 
    <script src="assets/js/app.js"></script> 
</body>
</html> 

