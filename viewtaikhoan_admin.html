<!DOCTYPE html>
<html lang="en"> 
<head>
    <title>Ames - Trung tâm Anh ngữ số 1 Đà Nẵng</title>
    
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="description" content="Ames - Trung tâm Anh ngữ số 1 Đà Nẵng">
        
    <link rel="shortcut icon" href="favicon.ico"> 
    
    <!-- FontAwesome JS-->
    <script defer src="assets/plugins/fontawesome/js/all.min.js"></script>
    
    <!-- App CSS -->  
    <link id="theme-style" rel="stylesheet" href="assets/css/portal.css">

</head> 

<body class="app" >   	
    <header class="app-header fixed-top">	   	            
        <div class="app-header-inner">  
	        <div class="container-fluid py-2">
		        <div class="app-header-content"> 
		            <div class="row justify-content-between align-items-center">
			        
				    <div class="col-auto">
					    <a id="sidepanel-toggler" class="sidepanel-toggler d-inline-block d-xl-none" href="#">
						    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg>
					    </a>
				    </div><!--//col-->
		            <div class="search-mobile-trigger d-sm-none col">
			            <i class="search-mobile-trigger-icon fas fa-search"></i>
			        </div><!--//col-->
		            <div class="app-search-box col">

		            </div><!--//app-search-box-->
		            
		            <div class="app-utilities col-auto">
			            <div class="app-utility-item app-notifications-dropdown dropdown">    

			
		
			            <div class="app-utility-item app-user-dropdown dropdown">
				            <a class="dropdown-toggle" id="user-dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Admin</a>
				            <ul class="dropdown-menu" aria-labelledby="user-dropdown-toggle">

								<li><a class="dropdown-item" href="login.html">Đăng xuất</a></li>
							</ul>
			            </div><!--//app-user-dropdown--> 
		            </div><!--//app-utilities-->
		        </div><!--//row-->
	            </div><!--//app-header-content-->
	        </div><!--//container-fluid-->
        </div><!--//app-header-inner-->
        <div id="app-sidepanel" class="app-sidepanel"> 
	        <div id="sidepanel-drop" class="sidepanel-drop"></div>
	        <div class="sidepanel-inner d-flex flex-column">
		        <a href="#" id="sidepanel-close" class="sidepanel-close d-xl-none">&times;</a>
		        <div class="app-branding">
		            <a class="app-logo" href="index_admin.html"><img class="logo-icon me-2" src="assets/images/app-logo.svg" alt="logo"><span class="logo-text">AMES</span></a>
	
		        </div><!--//app-branding-->  
		        
			    <nav id="app-nav-main" class="app-nav app-nav-main flex-grow-1">
				    <ul class="app-menu list-unstyled accordion" id="menu-accordion">
					
					
					
					    <li class="nav-item">
					        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
					        <a class="nav-link " href="index_admin.html">
						        <span class="nav-icon">
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
										<path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
										<path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
									</svg>
						         </span>
		                         <span class="nav-link-text">Thông tin tài khoản</span>
					        </a><!--//nav-link-->
					    </li><!--//nav-item-->
						
					    <li class="nav-item">
					        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
					        <a class="nav-link " href="add_user_admin.html">
						        <span class="nav-icon">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-plus-fill" viewBox="0 0 16 16">
  <path d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
  <path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"/>
</svg>
						         </span>
		                         <span class="nav-link-text">Tạo tài khoản người dùng</span>
					        </a><!--//nav-link-->
					    </li><!--//nav-item-->
						
					    <li class="nav-item">
					        <!--//Bootstrap Icons: https://icons.getbootstrap.com/ -->
					        <a class="nav-link active" href="quanly_admin.html">
						        <span class="nav-icon">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen-fill" viewBox="0 0 16 16">
  <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"/>
</svg>
						         </span>
		                         <span class="nav-link-text">Quản lý tài khoản</span>
					        </a><!--//nav-link-->
					    </li><!--//nav-item-->
					 
					  
  
							    
				    </ul><!--//app-menu-->
			    </nav><!--//app-nav-->

		       
	        </div><!--//sidepanel-inner-->
	    </div><!--//app-sidepanel-->
    </header><!--//app-header-->
    
   <div class="app-wrapper">
	    
	    <div class="app-content pt-3 p-md-3 p-lg-4">
		    <div class="container-xl">			    
			    <h1 class="app-page-title">Chi tiết tài khoản</h1>
			    <hr class="mb-4">
                <div class="row g-4 settings-section">
	    
					
	           
		                <div class="app-card app-card-settings shadow-sm  p-4">
						    <form action="change_pass_admin" method="post">
							

							

    
							<div class="container">
								<div class="row">
									<div class="col"> <label for="setting-input-1" class="form-label">Tài khoản: </label> </div>
									<div class="col"> 
                                <input id="ten_tk_1" name="ten_tk_1" type="text" class="form-control_label_hv"   disabled>
									</div>
						         </div>
								</div>
								<br>		
							
							<div class="container">
								<div class="row">
									<div class="col"> <label for="setting-input-1" class="form-label">Họ tên: </label> </div>
									<div class="col"> 
										<input id="hoten_tk_1" name="hoten_tk_1" type="text" class="form-control_label_hv"   disabled>
									</div>
						         </div>
								</div>
								<br>
				
							<div class="container">
								<div class="row">
									<div class="col"> <label for="setting-input-1" class="form-label">Giới tính: </label> </div>
									<div class="col"> 
										<input id="gt_tk_1" name="gt_tk_1" type="text" class="form-control_label_hv"   disabled>
									</div>
						         </div>
								</div>
								<br>

							<div class="container">
								<div class="row">
									<div class="col"> <label for="setting-input-1" class="form-label">Ngày sinh: </label> </div>
									<div class="col"> 
										<input id="ng_tk_1" name="ng_tk_1" type="text" class="form-control_label_hv"   disabled>
									</div>
						         </div>
								</div>
								<br>				
							
							<div class="container">
								<div class="row">
									<div class="col"> <label for="setting-input-1" class="form-label">Địa chỉ: </label> </div>
									<div class="col"> 
										<input id="dc_tk_1" name="dc_tk_1" type="text" class="form-control_label_hv"   disabled>
									</div>
						         </div>
								</div>
								<br>							
							
							<div class="container">
								<div class="row">
									<div class="col"> <label for="setting-input-1" class="form-label">Số điện thoại: </label> </div>
									<div class="col"> 
										<input id="sdt_tk_1" name="sdt_tk_1" type="text" class="form-control_label_hv"   disabled>
									</div>
						         </div>
								</div>
								<br>							
							
							<div class="container">
								<div class="row">
									<div class="col"> <label for="setting-input-1" class="form-label">CCCD: </label> </div>
									<div class="col"> 
										<input id="cccd_tk_1" name="cccd_tk_1" type="text" class="form-control_label_hv"   disabled>
									</div>
						         </div>
								</div>
								<br>							
							


							<div class="container">
								<div class="row">
									<div class="col">   
									<div class=" text-center ">
  									<a href="#" class="btn btn-sm bg-danger text-white" data-bs-toggle="modal" data-bs-target="#myModal">Xóa tài khoản</a> 
								    </div>
									<!-- The Modal -->
									<div class="modal" id="myModal">
									  <div class="modal-dialog modal-dialog-centered">
										<div class="modal-content">

										  <!-- Modal Header -->
										  <div class="modal-header">
											<h5 class="modal-title text-center">Xác nhận</h5>
											<button type="button" class="btn-close" data-bs-dismiss="modal"></button>
											
										  </div>

										  <!-- Modal body -->
										  <div class="modal-body text-center">
											Bạn có chắc chắn muốn xóa tài khoản này không?
										  </div>

										  <!-- Modal footer -->
										  <div class="modal-footer">
											
								<div class="container">
								<div class="row">
									<div class="col">   
									<div class=" text-center "> 

									<button type="button" class="btn btn-danger text-white" data-bs-dismiss="modal">Không</button> 
									</div> 
									</div>
									
									<div class="col">   
									<div class=" text-center "> 

									
									<button  id="deltk" onclick="deletetk()" class="btn btn-sm bg-success text-white" data-bs-dismiss="modal">Có</button>
									</div> 
									</div>
									
								</div>
								<br>
							</div>
										  </div>

										</div>
									  </div>
									</div>

									</div>
									
									<div class="col">   
									<div class=" text-center ">                   

  									<a href="#" onclick="laytaikhoan()" class="btn btn-sm bg-primary text-white" data-bs-toggle="modal" data-bs-target="#myModala">Sửa tài khoản</a>  
									</div> 
											<!-- The Modal -->
									<div class="modal" id="myModala">
									  <div class="modal-dialog modal-dialog-centered">
										<div class="modal-content">

										  <!-- Modal Header -->
										  <div class="modal-header">
											<h5 class="modal-title text-center">Chỉnh sửa thông tin tài khoản</h5>
											<button  type="button" class="btn-close" data-bs-dismiss="modal"></button>
											
										  </div>

										  <!-- Modal body -->
										  <div class="modal-body text-center">
										
										<table style="width:100%">
										  <tr>
											<td><label  class="form-label">Tài khoản: </label></td>
											<td>
												<input type="text" id="tk_doi" name="tk_doi" required class="form-control" value="" disabled>
											</td>

										  </tr>
										  
										  
										  <tr>
											<td><label  class="form-label">Họ tên: </label></td>
											<td>
												<input type="text" name="ht_doi" required class="form-control" value="" >
											</td>

										  </tr>		

										  <tr>
											<td><label  class="form-label">Mật khẩu: </label></td>
											<td>
												<input type="text" name="mk_doi" required class="form-control" value="" >
											</td>

										  </tr>											  




										</table>										
																				
										  </div>

										  <!-- Modal footer -->
										  <div class="modal-footer">
											
								<div class="container">
								<div class="row">
									<div class="col">   
									<div class=" text-center "> 

									<button type="button" class="btn btn-danger text-white" data-bs-dismiss="modal">Đóng</button> 
									</div> 
									</div>
									
									<div class="col">   
									<div class=" text-center "> 

									<a onclick="chinhtaikhoan()" class="btn btn-sm bg-primary text-white" data-bs-dismiss="modal">Hoàn tất</a>
									</div> 
									</div>
									
								</div>
								<br>
							</div>
										  </div>

										</div>
									  </div>
									</div>									
									
									</div>
									
								</div>
								<br>
							</div>
	
							</form>
						</div><!--//app-card-->
	                
					
                </div><!--//row-->
                <hr class="my-4">
              
                
               
              
	
	    
	    <footer class="app-footer">
		    <div class="container text-center py-3">
		         <!--/* This template is free as long as you keep the footer attribution link. If you'd like to use the template without the attribution link, you can buy the commercial license via our website: themes.3rdwavemedia.com Thank you for your support. :) */-->
            <small class="copyright">Designed with <i class="fas fa-heart" style="color: #fb866a;"></i> by <a class="app-link" href="#" target="_blank">Nguyen Le Tai</a> for developers</small>
		       
		    </div>
	    </footer><!--//app-footer-->
	    
    </div><!--//app-wrapper-->    	

 
    <!-- Javascript -->          
    <script src="assets/plugins/popper.min.js"></script>
    <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>  

 
    
    <!-- Page Specific JS -->
    <script src="assets/js/app.js"></script> 
	<script>
	const queryString = window.location.search;
	let del_str=queryString.replace('?', '');
	
	laythongtin(del_str);
	
	function laythongtin(id){

	
	   var url = `https://amesbe.herokuapp.com/api/account/${id}`
    console.log(url)
    fetch(url,{
        method:"GET",
        headers:{
            'Content-Type': 'application/json',
            'Authorization': 'eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vRW5nbGlzaENlbnRlci5jb20vIiwic3ViIjoiYWRtaW4ifQ.RnuaT2IuMgMlKtowFP8zJDASCRY54XFe7K6fRPNEgKM'
        }
    }).then((reponse)=>{
           if(reponse.ok){
			   reponse.json().then((json)=>{
				console.log(json)
					   
				    document.getElementById("ten_tk_1").value = json.TK;
					document.getElementById("hoten_tk_1").value = json.HoTen;
				       if (json.GioiTinh == false) {
						document.getElementById("gt_tk_1").value = "Nữ";
						} else {
						document.getElementById("gt_tk_1").value = "Nam";
						}
					if(json.NgaySinh==null){
					document.getElementById("ng_tk_1").value = "";
					}else{
					var ngaysinh =  new Date(json.NgaySinh);
					document.getElementById("ng_tk_1").value = ngaysinh.toLocaleDateString();
					}
				  
					document.getElementById("dc_tk_1").value = json.DiaChi;
					document.getElementById("sdt_tk_1").value = json.SDT;
					document.getElementById("cccd_tk_1").value = json.MaCanCuoc;
	
			   })
		   }
		   
		   
    }).catch((error)=>{
     console.log(object)
})
}

	function laytaikhoan(){
	
		const queryString3 = window.location.search;
	    let id=queryString3.replace('?', '');

	
	   var url = `https://amesbe.herokuapp.com/api/account/${id}`
    console.log(url)
    fetch(url,{
        method:"GET",
        headers:{
            'Content-Type': 'application/json',
            'Authorization': 'eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vRW5nbGlzaENlbnRlci5jb20vIiwic3ViIjoiYWRtaW4ifQ.RnuaT2IuMgMlKtowFP8zJDASCRY54XFe7K6fRPNEgKM'
        }
    }).then((reponse)=>{
           if(reponse.ok){
			   reponse.json().then((json)=>{
				console.log(json)
				 
				    document.getElementById("tk_doi").value = json.TK;

	
			   })
		   }
		   
		   
    }).catch((error)=>{
     console.log(object)
})
}



	</script>
	
	<script>

	function chinhtaikhoan(){
	const queryString6 = window.location.search;
	let id3=queryString6.replace('?', '');
	
		var tk_doi = document.querySelector('input[name="tk_doi"]').value
		var ht_doi = document.querySelector('input[name="ht_doi"]').value
		var mk_doi = document.querySelector('input[name="mk_doi"]').value
		
			console.log(tk_doi);
			console.log(ht_doi);
			console.log(mk_doi);
			
	var formData ={
    "GioiTinh": true,
    "SDT": "",
    "NgaySinh": null,
    "DiaChi": "",
    "TK": tk_doi,
    "isActive": true,
    "HoTen": ht_doi,
    "MK": mk_doi,
    "MaCanCuoc": ""
	};
	
	var url = `https://amesbe.herokuapp.com/api/account/${id3}`
    console.log(url)
    fetch(url,{
        method:"PUT",
        headers:{
            'Content-Type': 'application/json',
            'Authorization': 'eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vRW5nbGlzaENlbnRlci5jb20vIiwic3ViIjoiYWRtaW4ifQ.RnuaT2IuMgMlKtowFP8zJDASCRY54XFe7K6fRPNEgKM'
        },
		body: JSON.stringify(formData)
    }).then((reponse)=>{
           if(reponse.ok){
			   reponse.json().then((json)=>{
				console.log(json)
			
				
	
			   })
		   }
		   
		   
    }).catch((error)=>{
     console.log(object)
})
						alert("Chỉnh sửa tài khoản thành công")
						
					
	}
	
	function deletetk(){

	const queryString = window.location.search;
	let id=queryString.replace('?', '');
	
	   var url = `https://amesbe.herokuapp.com/api/account/${id}`
    console.log(url)
    fetch(url,{
        method:"DELETE",
        headers:{
            'Content-Type': 'application/json',
            'Authorization': 'eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOi8vRW5nbGlzaENlbnRlci5jb20vIiwic3ViIjoiYWRtaW4ifQ.RnuaT2IuMgMlKtowFP8zJDASCRY54XFe7K6fRPNEgKM'
        }
    }).then((reponse)=>{
           if(reponse.ok){
			   reponse.json().then((json)=>{
				console.log(json)
				 

	
			   })
		   }
				window.location.replace("./quanly_admin.html")		   
		   
    }).catch((error)=>{
     console.log(object)
})
}
	</script>	
	
	
</body>
</html> 

